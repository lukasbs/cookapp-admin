<div class="mt-5 mb-3 col-xl-9 col-8 m-auto alert" id="messageRow" #message></div>
<form (ngSubmit)="editMode ? editHandler(f) : saveHandler(f)" #f="ngForm">
  <div class="form-row p-2 col-7">
    <input required id="recipeName" name="recipeName" class="form-control" [ngModel]="recipe.name" type="text" placeholder="Nazwa...">
  </div>
  <div class="form-row p-2 col-7">
    <input required id="recipeImage" name="recipeImage" class="form-control" [ngModel]="recipe.image" type="text" placeholder="Zdjęcie...">
  </div>
  <div class="form-row p-2 col-7">
    <textarea required id="recipeDescription" name="recipeDescription" class="form-control" [ngModel]="recipe.description" type="text" placeholder="Opis..."></textarea>
  </div>

  <div *ngFor="let ingredient of recipe.ingredients; let i = index">
    <div class="form-row p-2 col-7">
      <div class="p-2">
        <input required name="ingredientName-{{i}}" class="form-control" [(ngModel)]="ingredient.name" type="text" placeholder="Nazwa...">
      </div>
      <div class="p-2">
        <input required name="ingredientAmount-{{i}}" class="form-control" [(ngModel)]="ingredient.amount" type="text" placeholder="Ilość...">
      </div>
      <div class="p-2">
        <button type="button" class="btn btn-danger" (click)="deleteIngredient(i)">X</button>
      </div>
    </div>
  </div>
  <div class="form-row p-2 col-7">
    <button type="button" class="btn btn-success" (click)="addIngredient()">Dodaj składnik</button>
  </div>

  <div class="form-row p-2 col-7">
    <div class="col-2">
      <button type="submit" [innerText]="editMode ? 'Edit':'Zapisz'" [disabled]="!f.valid" class="btn btn-primary"></button>
    </div>
    <div class="col-2">
      <button type="button" class="btn btn-primary" routerLink="../recipe-list">Powrót</button>
    </div>
  </div>
</form>
